;; Test file to validate math operations documentation
;; This file can be executed in Rayforce runtime to verify all examples

(println "=== Binary Arithmetic Operations ===")


(println "--- Add (+) ---")
(println "Expected: 3")
(println  (+ 1 2))


(println "Expected: [4 5 6]")
(println  (+ [1 2 3] 3))


(println "Expected: [110 220 330]")
(println  (+ [100 200 300] [10 20 30]))


(println "Expected: 2024.03.25")
(println  (+ 2024.03.20 5))


(println "Expected: 10:00:00")
(println  (+ 09:00:00 3600))


(println "--- Subtract (-) ---")
(println "Expected: -1")
(println  (- 1 2))


(println "Expected: [-2 -1 0]")
(println  (- [1 2 3] 3))


(println "Expected: [90 180 270]")
(println  (- [100 200 300] [10 20 30]))


(println "Expected: 2024.03.15")
(println  (- 2024.03.20 5))


(println "Expected: 08:00:00")
(println  (- 09:00:00 3600))


(println "--- Multiply (*) ---")
(println "Expected: 2")
(println  (* 1 2))


(println "Expected: [3 6 9]")
(println  (* [1 2 3] 3))


(println "Expected: [200 600 1200]")
(println  (* [100 200 300] [2 3 4]))


(println "Expected: 06:45:21.000")
(println  (* 3i 02:15:07.000))


(println "--- Divide (/) ---")
(println "Expected: 3")
(println  (/ 10 3))


(println "Expected: [5 -5 1]")
(println  (/ [10 -10 3] 2))


(println "Expected: [50 50 60]")
(println  (/ [100 200 300] [2 4 5]))


(println "Division by zero test (should be null):")
(println  (/ 10 0))


(println "--- Modulo (%) ---")
(println "Expected: 1")
(println  (% 10 3))


(println "Expected: [1 2 0]")
(println  (% [10 -10 3] 3))


(println "Expected: [2 5 11]")
(println  (% [100 200 300] [7 13 17]))



(println "=== Aggregation Functions ===")


(println "--- Sum ---")
(println "Expected: 6")
(println  (sum [1 2 3]))


(println "Expected: 6.6")
(println  (sum [1.2 2.2 3.2]))


(println "Expected: 750")
(println  (sum [100 200 300 150]))


(println "--- Avg ---")
(println "Expected: 2.0")
(println  (avg [1.0 2.0 3.0]))


(println "Expected: -2.0")
(println  (avg [-24 12 6]))


(println "Expected: 192.17")
(println  (avg [150.25 300.50 125.75]))


(println "--- Med ---")
(println "Expected: 2.0")
(println  (med [3 1 2]))


(println "Expected: 2.5")
(println  (med [3 1 2 4]))


(println "Expected: 175.13")
(println  (med [150.25 300.50 125.75 200.00]))


(println "--- Dev ---")
(println "Expected: 19.03")
(println  (dev [1 2 3 4 50]))


(println "Expected: 0.5")
(println  (dev [1i 2i]))


(println "Expected: 75.13")
(println  (dev [150.25 300.50 125.75]))


(println "--- Min ---")
(println "Expected: 1")
(println  (min [1 2 3]))


(println "Expected: 2.3")
(println  (min [10.5 2.3 7.8]))


(println "Expected: 125.75")
(println  (min [150.25 300.50 125.75]))


(println "--- Max ---")
(println "Expected: 3")
(println  (max [1 2 3]))


(println "Expected: 10.5")
(println  (max [10.5 2.3 7.8]))


(println "Expected: 300.50")
(println  (max [150.25 300.50 125.75]))



(println "=== Rounding Functions ===")


(println "--- Ceil ---")
(println "Expected: 2.0")
(println  (ceil 1.5))


(println "Expected: [2.0 3.0 -1.0]")
(println  (ceil [1.1 2.5 -1.1]))


(println "Expected: [151.0 301.0 126.0]")
(println  (ceil [150.25 300.49 125.01]))


(println "--- Floor ---")
(println "Expected: 1.0")
(println  (floor 1.5))


(println "Expected: [1.0 2.0 -2.0]")
(println  (floor [1.1 2.5 -1.1]))


(println "Expected: [150.0 300.0 125.0]")
(println  (floor [150.25 300.49 125.99]))


(println "--- Round ---")
(println "Expected: 2.0")
(println  (round 1.5))


(println "Expected: [-2.0 -1.0 0.0 1.0 2.0]")
(println  (round [-1.5 -1.1 0.0 1.1 1.5]))


(println "Expected: [150.0 300.0 126.0]")
(println  (round [150.25 300.49 125.75]))



(println "=== Special Functions ===")


(println "--- Xbar ---")
(println "Expected: 15")
(println  (xbar 17 5))


(println "Expected: [9 9 12 12 12]")
(println  (xbar [10 11 12 13 14] 3))


(println "Expected: [09:00:00.000 09:01:00.000 09:02:00.000]")
(println  (xbar [09:00:15.000 09:01:30.000 09:02:45.000] 60000))


(println "Expected: [150 155 160]")
(println  (xbar [152.30 157.80 163.20] 5))



(println "=== Validation Complete ===")
